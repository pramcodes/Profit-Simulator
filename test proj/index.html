<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="globals.css" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div id="app">
    <div class="frame">
      <div class="div">
        <div class="overlap-group-wrapper" >
          <div class="overlap-group">
            <div class="text-wrapper">Profit Pilot</div>
          </div>
        </div>
        <div class="overlap-wrapper ">
          <div class="overlap">
            <input type="text" id="txt-username" class="txt-username" placeholder="Enter your username">
            <div class="text-wrapper-2">Username:</div>
            <div class="text-wrapper-3">Password:</div>
            <input type="password" id="txt-password" class="txt-password" placeholder="Enter your password">
            <div class="overlap-group-2">
              <button id="btn-login" class="btn-login" @click="login()">Login</button>
              <div class="text-wrapper-4">Login</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/vue@2"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.5/axios.min.js"
    integrity="sha512-TjBzDQIDnc6pWyeM1bhMnDxtWH0QpOXMcVooglXrali/Tj7W569/wd4E8EDjk1CwOAOPSJon1VfcEt1BI4xIrA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    new Vue({
      el: '#app',
      data() {
        return {
          notes: [],
        };
      },
      methods: {
        async refreshData(){
          //refressh
          
        },
        async login() {
          var username = document.getElementById("txt-username").value;
          alert(username);
          const formData = new FormData();
          formData.append("name", username);

          axios.get("http://localhost:3000/GetBusiness/"+username).then((response) => {
            console.log(response.data);
            //compare password entered to password retrieved from database 
            if (response.data.password == document.getElementById("txt-password").value) {
              //if password is correct, redirect to dashboard
              window.location.href = "templates/dashboard.html";
            } else {
              //if password is incorrect, display error message
              alert("Incorrect password");
            }
          });
        },
      },
      mounted() {
        // Your mounted logic
      },
    });
  </script>
</body>

</html>
